# Test case: Sowing and Reaping - Galatians 6 series finale
# Speaker: John Roth
# This sermon explores the central importance of the cross, how to know you understand it,
# and the freedom it brings. Key themes: boasting only in the cross, theology of the cross
# vs theology of glory, being crucified to the world.

description: 'Sowing and Reaping - Galatians 6 Series Finale'

vars:
  title: 'Sowing and Reaping'
  speaker: 'John Roth'
  date: ''
  transcript: |
    You are listening to a message from Thrive Community Church, a church located in Southwest Florida. For more info, visit us at thrive-fl.org. Lord God, we thank you so much for your mercy and grace, not only here, but in every church across this area and in our world today. Lord, we need that more than anything else. We need what your cross means, Lord, what you did there, Lord Jesus, to just so impact us and impact everyone right now. We pray for everywhere that Christ, you are preached, and your cross is proclaimed, and you are glorified, and we boast in nothing but that. So across this area and all of your churches, Lord Jesus, we pray that that is what happens today. And this area, you create a revival, a renewal, for the sake of your kingdom, not only here, but around the world. And so we thank you, Lord, that you are here this morning and with us, that you will guide and direct us, that you will speak, Lord, through your word today into our hearts and lives. In Jesus' name we pray, amen. So we're in Galatians chapter 6, and you can kind of follow along in the You version of the Bible. There are Bible notes there as well, and you can also follow along on the screen. We're gonna start in verse 11 and go to the end of this book, okay, this letter that he wrote, that Paul wrote. See with what large letters I'm writing to you with my own hand. It is those who want to make a good showing in the flesh who would force you to be circumcised and only in order that they may not be persecuted for the cross of Christ. For even those who are circumcised do not themselves keep the law, but they desire to have you circumcised that they may boast in your flesh. But far be it from me to boast except in the cross of our Lord Jesus Christ, by which the world has been crucified to me and I to the world. For neither circumcision counts for anything nor uncircumcision, but only a new creation. And as for all who walk by this rule, peace and mercy be upon them and upon the Israel of God. From now on let no one cause me trouble, for I bear on my body the marks of Jesus. The grace of our Lord Jesus Christ be with your spirit brothers. Amen. For freedom Christ has set you free. And we've been talking about that from the beginning and this is week 10. We could have gone on a lot longer. I know because we've actually skipped over a few sections in this letter. We couldn't cover it all and even the sections I've covered we haven't covered it in detail. But I think this has been a good section and a good flow throughout and we're coming towards the end of the summer. School is starting back up. Students are coming back to FGCU, the school system and all. So it's a good chance to start a new series next week and we hope you're involved in that. But freedom, we say you can choose it every day, but really it's God's choice for you. God has already chosen you to be free. God has chosen to free you and it is his dream and his hope that you are free indeed. And that every day your life is a life of freedom to live, not for the sake of rules or regulations or obligations or laws or got-tos or whatever, but you are freed to love, to serve, to give. You are free to just enjoy the freedom God has given you, the grace he gives in your life. And so how does that all work out? Today we finish the book off and here I think we come to one of the most important passages in all of the New Testament. And whenever a pastor says something like that, you've got to kind of question it, okay? Because we tend to, whatever we're preaching on, we tend to use hyperbole and say, wow, this is the most important, you've got to know, because, well, we want you to listen. But I think, as others have said, this might be, if you get this, you get it all, okay? This is one of the most important passages in the New Testament. You could pick out a number of others that say somewhat the same thing, but this passage right here, in a nutshell form, if you understand this, the power of the cross, you get Christianity. If you don't, you don't got anything. And this is what he says, far be it from me to boast except in the cross of our Lord Jesus Christ by which the world has been crucified to me and I to the world. So Paul's been, at this point in time, you get to the end of a letter like this and he's finally summarizing, you know, what a summary is, right? And so he's going to put in shorthand, in fact, he said right at the beginning of this, right, look at what big letters I'm writing to you in. Now some commentators and other scholars think Paul had probably a, well, he might have had an eye disorder, some type of thing, that could have been his thorn in the flesh. With how much he loved the scriptures and the Word of God and the fact that he had a hard time then reading it or, you know, being able to read it. Because here he says, see what big letters I write. He might have had dysgraphia too. Do you know what that is? It's where you have a hard time writing for some reason. Have you ever heard of dysgraphia? Okay, look it up. But anyways, yeah, and so whatever he had, it could have been that case or he could be just doing something simply. So he's probably dictated this letters up to this point so far with somebody else who'd be able to write it nice and neatly, you know, Silvanus or Silas or who knows exactly who he had with him at the time. But at this point in time he's writing at the end himself and it's almost like he is bold caps tweeting at this point, okay? And he says, far be it from me that I should boast in anything but the cross by Lord Jesus Christ, by which the world has been crucified to me and I to the world. These are his own words in his own handwriting, the few that we have. And then I think this is how his bold caps tweet would really be. The cross is our freedom. Understanding the power of the cross is the essence of Christianity. You get that, you get it all. If you don't get that, you don't got anything. If you take the cross out of Christianity, you just got another religion. Just got another religion. The world's full of them. You pick or choose whichever one you want. Now one of the Reformers, the Protestant Reformers, Martin Luther in the 1500s put it this way. He said, the cross alone is our theology. And I think Paul said the same thing here. And not just here, there's a number of points that he will say it through. So we're going to look at three points today from this text that we're going to learn. The central importance of the cross. How you can know that you understand the cross. That sounds kind of weird, doesn't it? But we'll, I'll explain it. And then the freedom that the cross brings. So the central importance. We've kind of shared a little about it. Paul starts out though in this Bible passage, it says in our ESV, the English Standard Version, far be it from me. That sounds so nice and polite. That's not what he's really saying. He uses the Greek, almost untranslatable phrase, me gnoito. Which is like an exclamation of, may it never be, or never ever ever should it ever be. I think it was the King James says, God forbid. Okay? And he means that. May it never be that I do anything but. Okay? Paul said it elsewhere. First Corinthians, he said, for I decided to know nothing among you, Corinthians, except Jesus Christ and him crucified. He didn't say Jesus Christ and his resurrection. He didn't say Jesus Christ and all his miraculous teaching. Jesus Christ and his wonderful teachings on the Sermon on the Mount, or his miraculous events that happened in his life. But Jesus Christ and him crucified. That's what matters, Paul says. The only thing that really matters in the end is the cross.

assert:
  # Verify it captured the main scripture passage (Galatians 6)
  - type: javascript
    value: |
      const json = typeof output === 'string' ? JSON.parse(output) : output;
      const mainScripture = json.mainScripture.toLowerCase();
      const hasGalatians = mainScripture.includes('galatians');
      return hasGalatians || mainScripture === '';
    threshold: 0.8

  # Should have at least 2 key points
  - type: javascript
    value: |
      const json = typeof output === 'string' ? JSON.parse(output) : output;
      return json.keyPoints && json.keyPoints.length >= 2;

  # Should have at least 1 application point
  - type: javascript
    value: |
      const json = typeof output === 'string' ? JSON.parse(output) : output;
      return json.applicationPoints && json.applicationPoints.length >= 1;

  # Should have quotes from the sermon
  - type: javascript
    value: |
      const json = typeof output === 'string' ? JSON.parse(output) : output;
      return json.quotes && json.quotes.length >= 1;

  # Should capture key themes: cross, freedom, boasting
  - type: javascript
    value: |
      const json = typeof output === 'string' ? JSON.parse(output) : output;
      const summary = json.summary.toLowerCase();
      const keyPointsText = json.keyPoints.map(kp => kp.point.toLowerCase()).join(' ');
      const combined = summary + ' ' + keyPointsText;
      const hasCross = combined.includes('cross');
      const hasFreedom = combined.includes('freedom') || combined.includes('free');
      const hasBoast = combined.includes('boast') || combined.includes('glory');
      return hasCross || hasFreedom || hasBoast;
    threshold: 0.8

  # ACCURACY VALIDATIONS
  - type: javascript
    value: |
      // Verify quotes appear in transcript (fuzzy match - at least 60% of words)
      const json = typeof output === 'string' ? JSON.parse(output) : output;
      const transcript = context.vars.transcript.toLowerCase();
      const quotes = json.quotes || [];
      if (quotes.length === 0) return true;

      function wordOverlap(quote, text) {
        const quoteWords = quote.toLowerCase().replace(/[^\w\s]/g, '').split(/\s+/).filter(w => w.length > 3);
        if (quoteWords.length === 0) return 1;
        const matchCount = quoteWords.filter(w => text.includes(w)).length;
        return matchCount / quoteWords.length;
      }

      const failed = quotes.filter(q => wordOverlap(q.text, transcript) < 0.6);
      return failed.length === 0;
  - type: javascript
    value: |
      // Verify scripture references were mentioned in transcript (with word-to-number normalization)
      const json = typeof output === 'string' ? JSON.parse(output) : output;
      const transcript = context.vars.transcript.toLowerCase();

      // Number word mappings
      const ordinals = {first:'1',second:'2',third:'3',fourth:'4',fifth:'5',sixth:'6',seventh:'7',eighth:'8',ninth:'9',tenth:'10',eleventh:'11',twelfth:'12',thirteenth:'13',fourteenth:'14',fifteenth:'15',sixteenth:'16',seventeenth:'17',eighteenth:'18',nineteenth:'19',twentieth:'20',twentyfirst:'21',twentysecond:'22',twentythird:'23',twentyfourth:'24',twentyfifth:'25',twentysixth:'26',twentyseventh:'27',twentyeighth:'28',twentyninth:'29',thirtieth:'30',thirtyfirst:'31'};
      const cardinals = {one:'1',two:'2',three:'3',four:'4',five:'5',six:'6',seven:'7',eight:'8',nine:'9',ten:'10',eleven:'11',twelve:'12',thirteen:'13',fourteen:'14',fifteen:'15',sixteen:'16',seventeen:'17',eighteen:'18',nineteen:'19',twenty:'20',twentyone:'21',twentytwo:'22',twentythree:'23',twentyfour:'24',twentyfive:'25',twentysix:'26',twentyseven:'27',twentyeight:'28',twentynine:'29',thirty:'30',thirtyone:'31',thirtytwo:'32',thirtythree:'33',thirtyfour:'34',thirtyfive:'35',thirtysix:'36',thirtyseven:'37',thirtyeight:'38',thirtynine:'39',forty:'40',fortyone:'41',fortytwo:'42',fortythree:'43',fortyfour:'44',fortyfive:'45',fortysix:'46',fortyseven:'47',fortyeight:'48',fortynine:'49',fifty:'50',fiftyone:'51',fiftytwo:'52',fiftythree:'53',fiftyfour:'54',fiftyfive:'55',fiftysix:'56',fiftyseven:'57',fiftyeight:'58',fiftynine:'59',sixty:'60',sixtyone:'61',sixtytwo:'62',sixtythree:'63',sixtyfour:'64',sixtyfive:'65',sixtysix:'66',sixtyseven:'67',sixtyeight:'68',sixtynine:'69',seventy:'70',seventyone:'71',seventytwo:'72',seventythree:'73',seventyfour:'74',seventyfive:'75',seventysix:'76',seventyseven:'77',seventyeight:'78',seventynine:'79',eighty:'80',eightyone:'81',eightytwo:'82',eightythree:'83',eightyfour:'84',eightyfive:'85',eightysix:'86',eightyseven:'87',eightyeight:'88',eightynine:'89',ninety:'90',ninetyone:'91',ninetytwo:'92',ninetythree:'93',ninetyfour:'94',ninetyfive:'95',ninetysix:'96',ninetyseven:'97',ninetyeight:'98',ninetynine:'99',onehundred:'100',hundred:'100'};
      const books = ['genesis','exodus','leviticus','numbers','deuteronomy','joshua','judges','ruth','samuel','kings','chronicles','ezra','nehemiah','esther','job','psalm','psalms','proverbs','ecclesiastes','song of solomon','isaiah','jeremiah','lamentations','ezekiel','daniel','hosea','joel','amos','obadiah','jonah','micah','nahum','habakkuk','zephaniah','haggai','zechariah','malachi','matthew','mark','luke','john','acts','romans','corinthians','galatians','ephesians','philippians','colossians','thessalonians','timothy','titus','philemon','hebrews','james','peter','jude','revelation'];

      function normalize(text) {
        let t = text.toLowerCase().replace(/[-]/g, ' ');
        // Ordinals for book prefixes (first john -> 1 john)
        for (const [word, num] of Object.entries(ordinals)) {
          t = t.replace(new RegExp('\\b' + word + '\\b', 'g'), num);
        }
        // Cardinals for chapters/verses
        for (const [word, num] of Object.entries(cardinals)) {
          t = t.replace(new RegExp('\\b' + word + '\\b', 'g'), num);
        }
        return t;
      }

      const normTranscript = normalize(transcript);
      const scriptures = [];
      if (json.mainScripture) scriptures.push(json.mainScripture);
      (json.keyPoints || []).forEach(kp => { if (kp.scripture) scriptures.push(kp.scripture); });

      const failed = scriptures.filter(ref => {
        if (!ref || ref.trim() === '') return false;
        const normRef = normalize(ref);
        const bookMatch = normRef.match(/^(\d?\s*[a-z]+)/);
        if (!bookMatch) return false;
        const book = bookMatch[1].replace(/\s+/g, ' ').trim();
        return !normTranscript.includes(book);
      });

      return failed.length === 0;
